<div class="max-w-3xl mx-auto p-6 space-y-6">
  <h1 class="text-2xl font-bold text-purple-700">Ride Tracking</h1>

  <div *ngIf="!ride" class="p-6 bg-white border border-purple-200 rounded text-center text-gray-600">
    No ride found. Go back to Ride Requests.
  </div>

  <div *ngIf="ride" class="bg-white border border-purple-200 rounded p-4 space-y-4">
    <div class="grid grid-cols-1 md:grid-cols-3 gap-2 text-sm">
      <div><strong>Passenger:</strong> {{ ride.passengerName }}</div>
      <div><strong>From:</strong> {{ ride.pickupLocation }}</div>
      <div><strong>To:</strong> {{ ride.dropLocation }}</div>
      <div class="md:col-span-3"><strong>Fare:</strong> â‚¹{{ ride.fare }}</div>
      <div class="md:col-span-3" *ngIf="ride.startedAt"><strong>Started:</strong> {{ ride.startedAt | date:'short' }}</div>
    </div>

    <div *ngIf="!ride.startedAt" class="flex flex-col md:flex-row md:items-end gap-3">
      <div class="flex-1">
        <label class="text-sm text-gray-600">Enter OTP to Start</label>
        <input maxlength="6" [(ngModel)]="otp" class="w-full border rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-purple-500 tracking-widest" placeholder="_ _ _ _" />
      </div>
      <button (click)="startRide()" class="px-4 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded">Start Ride</button>
    </div>

    <div *ngIf="ride.startedAt" class="flex flex-col md:flex-row md:items-end gap-3">
      <div class="flex-1">
        <label class="text-sm text-gray-600">Payment Mode</label>
        <select [(ngModel)]="paymentMode" class="w-full border rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-purple-500">
          <option value="Cash">Cash</option>
          <option value="UPI">UPI</option>
          <option value="Card">Card</option>
          <option value="Wallet">Wallet</option>
        </select>
      </div>
      <button (click)="endRide()" class="px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded">End Ride</button>
    </div>
  </div>
</div>
